#pragma once

#include "defines.h"
#include "graphics/renderer2d.h"
#include "ui/ui_text.h"

#include <string>

// DEFS
/////////////////////////////////////////////////////////////////////////////////
#define TASKS_MAX 8
#define TEXTS_MAX TASKS_MAX + 1
/////////////////////////////////////////////////////////////////////////////////

// Task
/////////////////////////////////////////////////////////////////////////////////
struct Task {
  u32 cost;
  std::string desc;
};
/////////////////////////////////////////////////////////////////////////////////

// TaskMenu
/////////////////////////////////////////////////////////////////////////////////
struct TaskMenu {
  Task tasks[TASKS_MAX];
  u32 current_task;

  UIText texts[TEXTS_MAX];
  Rect strikethroughs[TASKS_MAX];
  glm::vec2 board_size;

  bool is_active, has_completed_all;
};
/////////////////////////////////////////////////////////////////////////////////

// Public functions
/////////////////////////////////////////////////////////////////////////////////
void task_menu_init(TaskMenu* menu);
void task_menu_update(TaskMenu* menu, u32* current_balance);
void task_menu_render(TaskMenu* menu);
void task_menu_reset(TaskMenu* menu);
/////////////////////////////////////////////////////////////////////////////////
